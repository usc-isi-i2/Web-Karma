@prefix ns1: <crm> .
@prefix ns2: <dc> .
@prefix ns3: <dim> .
@prefix ns4: <skos> .
@prefix ns5: <qudt> .
@prefix ns6: <rdf> .
@prefix ns7: <foaf> .
@prefix ns8: <cc> .
@prefix ns9: <vs> .
@prefix ns10: <owl> .
@prefix ns11: <quantity> .
@prefix ns12: <unit> .
@prefix ns13: <dct> .
@prefix ns14: <oecc> .
@prefix ns15: <xsd> .
@prefix ns16: <rdfs> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix km-dev: <http://isi.edu/integration/karma/dev#> .

_:node18hbivufox1 a km-dev:R2RMLMapping ;
	km-dev:sourceName "cbev2.WebArtistBio.csv" ;
	km-dev:modelPublicationTime "1393032165881"^^<http://www.w3.org/2001/XMLSchema#long> ;
	km-dev:modelVersion "1.0" ;
	km-dev:hasWorksheetHistory "[{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"PersonInstitution_URI\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"return \\\"person-institution/\\\"+getValue(\\\"ConstituentID\\\")\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"PrimaryBio\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"ArtistBio\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"n=getValue(\\\"TextType\\\").find(\\\"Artist\\\")\\r\\nm=getValue(\\\"PrimaryBio\\\").find(\\\"Primary\\\")\\r\\nif (n==0) and (m<0):\\r\\n    return getValue(\\\"BioDsp\\\")\\r\\nelse:\\r\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"PersonInstitution_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"LuceArtistBio\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"s=getValue(\\\"TextType\\\")\\r\\nif (s.find(\\\"Luce Artist Biography\\\")>=0):\\r\\n    return getValue(\\\"BioDsp\\\")\\r\\nelse:\\r\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"LuceArtistQuote\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"s=getValue(\\\"TextType\\\")\\r\\nif (s.find(\\\"Quote\\\")>=0):\\r\\n    return getValue(\\\"BioDsp\\\")\\r\\nelse:\\r\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"LuceArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"PrimaryArtistBio\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"n=getValue(\\\"TextType\\\").find(\\\"Artist\\\")\\r\\nm=getValue(\\\"PrimaryBio\\\").find(\\\"Primary\\\")\\r\\nif (n==0) and (m>=0):\\r\\n    return getValue(\\\"BioDsp\\\")\\r\\nelse:\\r\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"LuceArtistQuote\"}],\"type\":\"hNodeId\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SubmitPythonTransformationCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"PersonInstitution_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"isPrimary\":true,\"FullType\":\"http://isi.edu/integration/karma/dev#classLink\",\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E21_Person\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"isPrimary\":true,\"FullType\":\"http://collection.americanart.si.edu/id/ontologies#PE_has_note_artistbio\",\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E21_Person1\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"LuceArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"isPrimary\":true,\"FullType\":\"http://collection.americanart.si.edu/id/ontologies#PE_has_note_luceartistbio\",\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E21_Person1\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"LuceArtistQuote\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"isPrimary\":true,\"FullType\":\"http://collection.americanart.si.edu/id/ontologies#PE_has_note_luceartistquote\",\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E21_Person1\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"PrimaryArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"value\":[{\"isPrimary\":true,\"FullType\":\"http://collection.americanart.si.edu/id/ontologies#PE_has_note_primaryartistbio\",\"Domain\":\"http://www.cidoc-crm.org/cidoc-crm/E21_Person1\"}],\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetSemanticTypeCommand\"},{\"tags\":[\"Modeling\"],\"inputParameters\":[{\"name\":\"metaPropertyName\",\"value\":\"isUriOfClass\",\"type\":\"other\"},{\"name\":\"metaPropertyValue\",\"value\":\"http://www.cidoc-crm.org/cidoc-crm/E21_Person1\",\"type\":\"other\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"PersonInstitution_URI\"}],\"type\":\"hNodeId\"},{\"name\":\"SemanticTypesArray\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"isKey\",\"value\":false,\"type\":\"other\"},{\"name\":\"trainAndShowUpdates\",\"value\":false,\"type\":\"other\"},{\"name\":\"rdfLiteralType\",\"value\":\"\",\"type\":\"other\"}],\"commandName\":\"SetMetaPropertyCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"n=getValue(\\\"TextType\\\").find(\\\"Artist\\\")\\r\\nm=getValue(\\\"PrimaryBio\\\").find(\\\"Primary\\\")\\r\\nif (n>=0) and (m<0):\\r\\n    return getValue(\\\"BioDsp\\\")\\r\\nelse:\\r\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C45\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"n=getValue(\\\"TextType\\\").find(\\\"Artist Biography\\\")\\r\\nm=getValue(\\\"PrimaryBio\\\").find(\\\"Primary\\\")\\r\\nif (n>=0) and (m>=0):\\r\\n    return getValue(\\\"BioDsp\\\")\\r\\nelse:\\r\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"PrimaryArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C72\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"PrimaryArtistBio\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"n=getValue(\\\"TextType\\\").find(\\\"Artist Biography\\\")\\r\\nm=getValue(\\\"PrimaryBio\\\").find(\\\"Primary\\\")\\r\\nif (n>=0) and (m<0):\\r\\n    return getValue(\\\"BioDsp\\\")\\r\\nelse:\\r\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C105\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"n=getValue(\\\"TextType\\\").find(\\\"Artist Biography\\\")\\nif(n>=0):\\n    if getValue(\\\"PrimaryBio\\\") and  getValue(\\\"PrimaryBio\\\").find(\\\"Primary\\\")>=0:\\n        return \\\"\\\"\\n    else:\\n        return getValue(\\\"BioDsp\\\")\\nelse:\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C111\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"},{\"tags\":[\"Transformation\"],\"inputParameters\":[{\"name\":\"newColumnName\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"transformationCode\",\"value\":\"n=getValue(\\\"TextType\\\").find(\\\"Artist Biography\\\")\\nif(n>=0):\\n    if getValue(\\\"PrimaryBio\\\"):\\n        if  getValue(\\\"PrimaryBio\\\").find(\\\"Primary\\\")>=0:\\n            return \\\"\\\"\\n        else:\\n             return getValue(\\\"BioDsp\\\")\\n    else:\\n        return getValue(\\\"BioDsp\\\")\\nelse:\\n    return \\\"\\\"\",\"type\":\"other\"},{\"name\":\"worksheetId\",\"value\":\"W\",\"type\":\"worksheetId\"},{\"name\":\"hNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"},{\"name\":\"previousCommandId\",\"value\":\"C127\",\"type\":\"other\"},{\"name\":\"errorDefaultValue\",\"value\":\"\",\"type\":\"other\"},{\"name\":\"targetHNodeId\",\"value\":[{\"columnName\":\"ArtistBio\"}],\"type\":\"hNodeId\"}],\"commandName\":\"SubmitEditPythonTransformationCommand\"}]" .

km-dev:TriplesMap_1 a rr:TriplesMap .

_:node18hbivufox1 km-dev:hasTriplesMap km-dev:TriplesMap_1 .

_:node18hbivufox2 rr:tableName "cbev2.WebArtistBio.csv" .

km-dev:TriplesMap_1 rr:logicalTable _:node18hbivufox2 ;
	rr:subjectMap _:node18hbivufox3 .

_:node18hbivufox3 km-dev:alignmentNodeId "http://www.cidoc-crm.org/cidoc-crm/E21_Person1" ;
	rr:class <http://www.cidoc-crm.org/cidoc-crm/E21_Person> ;
	rr:template "person-institution/{ConstituentID}" ;
	a km-dev:steinerTreeRootNode .

_:node18hbivufox4 rr:predicate <http://collection.americanart.si.edu/id/ontologies#PE_has_note_artistbio> .

_:node18hbivufox5 rr:column "ArtistBio" .

_:node18hbivufox4 rr:objectMap _:node18hbivufox5 .

km-dev:TriplesMap_1 rr:predicateObjectMap _:node18hbivufox4 .

_:node18hbivufox6 rr:predicate <http://collection.americanart.si.edu/id/ontologies#PE_has_note_luceartistbio> .

_:node18hbivufox7 rr:column "LuceArtistBio" .

_:node18hbivufox6 rr:objectMap _:node18hbivufox7 .

km-dev:TriplesMap_1 rr:predicateObjectMap _:node18hbivufox6 .

_:node18hbivufox8 rr:predicate <http://collection.americanart.si.edu/id/ontologies#PE_has_note_luceartistquote> .

_:node18hbivufox9 rr:column "LuceArtistQuote" .

_:node18hbivufox8 rr:objectMap _:node18hbivufox9 .

km-dev:TriplesMap_1 rr:predicateObjectMap _:node18hbivufox8 .

_:node18hbivufox10 rr:predicate <http://collection.americanart.si.edu/id/ontologies#PE_has_note_primaryartistbio> .

_:node18hbivufox11 rr:column "PrimaryArtistBio" .

_:node18hbivufox10 rr:objectMap _:node18hbivufox11 .

km-dev:TriplesMap_1 rr:predicateObjectMap _:node18hbivufox10 .

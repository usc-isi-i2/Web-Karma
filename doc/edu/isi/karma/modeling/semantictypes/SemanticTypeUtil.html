<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_15) on Fri Apr 20 16:53:20 PDT 2012 -->
<TITLE>
SemanticTypeUtil
</TITLE>

<META NAME="date" CONTENT="2012-04-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SemanticTypeUtil";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SemanticTypeUtil.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../edu/isi/karma/modeling/semantictypes/FullCRFModel.html" title="class in edu.isi.karma.modeling.semantictypes"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?edu/isi/karma/modeling/semantictypes/SemanticTypeUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SemanticTypeUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.isi.karma.modeling.semantictypes</FONT>
<BR>
Class SemanticTypeUtil</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>edu.isi.karma.modeling.semantictypes.SemanticTypeUtil</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>SemanticTypeUtil</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
This class provides various utility methods that can be used by the semantic
 typing module.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Shubham Gupta</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../edu/isi/karma/modeling/semantictypes/SemanticTypeUtil.html#SemanticTypeUtil()">SemanticTypeUtil</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.ArrayList&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/isi/karma/modeling/semantictypes/SemanticTypeUtil.html#getTrainingExamples(edu.isi.karma.rep.Worksheet, edu.isi.karma.rep.HNodePath)">getTrainingExamples</A></B>(edu.isi.karma.rep.Worksheet&nbsp;worksheet,
                    edu.isi.karma.rep.HNodePath&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prepares and returns a collection of training examples to be used in
 semantic types training.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/isi/karma/modeling/semantictypes/SemanticTypeUtil.html#identifyOutliers(edu.isi.karma.rep.Worksheet, java.lang.String, edu.isi.karma.rep.HNodePath, edu.isi.karma.rep.metadata.Tag, java.util.Map, edu.isi.karma.modeling.semantictypes.crfmodelhandler.CRFModelHandler)">identifyOutliers</A></B>(edu.isi.karma.rep.Worksheet&nbsp;worksheet,
                 java.lang.String&nbsp;predictedType,
                 edu.isi.karma.rep.HNodePath&nbsp;path,
                 edu.isi.karma.rep.metadata.Tag&nbsp;outlierTag,
                 java.util.Map&lt;<A HREF="../../../../../edu/isi/karma/modeling/semantictypes/crfmodelhandler/CRFModelHandler.ColumnFeature.html" title="enum in edu.isi.karma.modeling.semantictypes.crfmodelhandler">CRFModelHandler.ColumnFeature</A>,java.util.Collection&lt;java.lang.String&gt;&gt;&nbsp;columnFeatures,
                 <A HREF="../../../../../edu/isi/karma/modeling/semantictypes/crfmodelhandler/CRFModelHandler.html" title="class in edu.isi.karma.modeling.semantictypes.crfmodelhandler">CRFModelHandler</A>&nbsp;crfModelHandler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identifies the outlier nodes (table cells) for a given column.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/isi/karma/modeling/semantictypes/SemanticTypeUtil.html#populateSemanticTypesUsingCRF(edu.isi.karma.rep.Worksheet, edu.isi.karma.rep.metadata.Tag, edu.isi.karma.modeling.semantictypes.crfmodelhandler.CRFModelHandler)">populateSemanticTypesUsingCRF</A></B>(edu.isi.karma.rep.Worksheet&nbsp;worksheet,
                              edu.isi.karma.rep.metadata.Tag&nbsp;outlierTag,
                              <A HREF="../../../../../edu/isi/karma/modeling/semantictypes/crfmodelhandler/CRFModelHandler.html" title="class in edu.isi.karma.modeling.semantictypes.crfmodelhandler">CRFModelHandler</A>&nbsp;crfModelHandler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method predicts semantic types for all the columns in a worksheet
 using CRF modeling technique developed by Aman Goel.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../edu/isi/karma/modeling/semantictypes/SemanticTypeUtil.html#removeNamespace(java.lang.String)">removeNamespace</A></B>(java.lang.String&nbsp;uri)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the namespace from a given URI.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SemanticTypeUtil()"><!-- --></A><H3>
SemanticTypeUtil</H3>
<PRE>
public <B>SemanticTypeUtil</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getTrainingExamples(edu.isi.karma.rep.Worksheet, edu.isi.karma.rep.HNodePath)"><!-- --></A><H3>
getTrainingExamples</H3>
<PRE>
public static java.util.ArrayList&lt;java.lang.String&gt; <B>getTrainingExamples</B>(edu.isi.karma.rep.Worksheet&nbsp;worksheet,
                                                                        edu.isi.karma.rep.HNodePath&nbsp;path)</PRE>
<DL>
<DD>Prepares and returns a collection of training examples to be used in
 semantic types training. Parameter TRAINING_EXAMPLE_MAX_COUNT specifies
 the count of examples. The examples are randomly chosen to get a uniform
 distribution of values across the column. Empty values are currently not
 included in the set.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>worksheet</CODE> - The target worksheet<DD><CODE>path</CODE> - Path to the target column
<DT><B>Returns:</B><DD>Collection of training examples</DL>
</DD>
</DL>
<HR>

<A NAME="populateSemanticTypesUsingCRF(edu.isi.karma.rep.Worksheet, edu.isi.karma.rep.metadata.Tag, edu.isi.karma.modeling.semantictypes.crfmodelhandler.CRFModelHandler)"><!-- --></A><H3>
populateSemanticTypesUsingCRF</H3>
<PRE>
public static boolean <B>populateSemanticTypesUsingCRF</B>(edu.isi.karma.rep.Worksheet&nbsp;worksheet,
                                                    edu.isi.karma.rep.metadata.Tag&nbsp;outlierTag,
                                                    <A HREF="../../../../../edu/isi/karma/modeling/semantictypes/crfmodelhandler/CRFModelHandler.html" title="class in edu.isi.karma.modeling.semantictypes.crfmodelhandler">CRFModelHandler</A>&nbsp;crfModelHandler)</PRE>
<DL>
<DD>This method predicts semantic types for all the columns in a worksheet
 using CRF modeling technique developed by Aman Goel. It creates a
 SemanticType object for each column and puts it inside the SemanticTypes
 object for that worksheet. User-assigned semantic types are not replaced.
 It also identifies nodes (table cells) that are outliers and are stored
 in the outlierTag object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>worksheet</CODE> - The target worksheet<DD><CODE>outlierTag</CODE> - Tag object that stores outlier nodes<DD><CODE>crfModelHandler</CODE> - The CRF Model Handler to use
<DT><B>Returns:</B><DD>Returns a boolean value that shows if a semantic type object was
         replaced or added for the worksheet. If nothing changed, false is
         returned.</DL>
</DD>
</DL>
<HR>

<A NAME="identifyOutliers(edu.isi.karma.rep.Worksheet, java.lang.String, edu.isi.karma.rep.HNodePath, edu.isi.karma.rep.metadata.Tag, java.util.Map, edu.isi.karma.modeling.semantictypes.crfmodelhandler.CRFModelHandler)"><!-- --></A><H3>
identifyOutliers</H3>
<PRE>
public static void <B>identifyOutliers</B>(edu.isi.karma.rep.Worksheet&nbsp;worksheet,
                                    java.lang.String&nbsp;predictedType,
                                    edu.isi.karma.rep.HNodePath&nbsp;path,
                                    edu.isi.karma.rep.metadata.Tag&nbsp;outlierTag,
                                    java.util.Map&lt;<A HREF="../../../../../edu/isi/karma/modeling/semantictypes/crfmodelhandler/CRFModelHandler.ColumnFeature.html" title="enum in edu.isi.karma.modeling.semantictypes.crfmodelhandler">CRFModelHandler.ColumnFeature</A>,java.util.Collection&lt;java.lang.String&gt;&gt;&nbsp;columnFeatures,
                                    <A HREF="../../../../../edu/isi/karma/modeling/semantictypes/crfmodelhandler/CRFModelHandler.html" title="class in edu.isi.karma.modeling.semantictypes.crfmodelhandler">CRFModelHandler</A>&nbsp;crfModelHandler)</PRE>
<DL>
<DD>Identifies the outlier nodes (table cells) for a given column.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>worksheet</CODE> - Target worksheet<DD><CODE>predictedType</CODE> - Type which was user-assigned or predicted by the CRF model for
            the given column. If the type for a given node is different
            from the predictedType, it is tagged as outlier and it's id is
            stored in the outlier tag object<DD><CODE>path</CODE> - Path to the given column<DD><CODE>outlierTag</CODE> - The outlier tag object which stores all the outlier node ids.<DD><CODE>columnFeatures</CODE> - Features such as column name, table name that are required by
            the CRF Model to predict the semantic type for a node (table
            cell)<DD><CODE>crfModelHandler</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="removeNamespace(java.lang.String)"><!-- --></A><H3>
removeNamespace</H3>
<PRE>
public static java.lang.String <B>removeNamespace</B>(java.lang.String&nbsp;uri)</PRE>
<DL>
<DD>Removes the namespace from a given URI. It makes a assumption that the
 namespace is until the last # or last '/' in the URI string, so it should
 be used only for interface purposes and not for reasoning or logic. The
 right way would be store the namespaces map in memory and use that to
 remove the namespace from a URI.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - Input URI
<DT><B>Returns:</B><DD>URI string with namespace removed</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SemanticTypeUtil.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../edu/isi/karma/modeling/semantictypes/FullCRFModel.html" title="class in edu.isi.karma.modeling.semantictypes"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?edu/isi/karma/modeling/semantictypes/SemanticTypeUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SemanticTypeUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
